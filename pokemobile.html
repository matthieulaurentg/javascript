<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pokemon Battle Simulator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    h1, h2, h3 {
      margin-top: 0;
    }
    button {
      display: block;
      margin-bottom: 5px;
      width: 100%;
    }
    #battleLog {
      background-color: #f5f5f5;
      padding: 10px;
      border: 1px solid #ccc;
      max-height: 200px;
      overflow-y: scroll;
    }
    .controls {
      background-color: #d9f2e6;
      padding: 10px;
      border: 1px solid #4caf50;
      margin-bottom: 10px;
    }
    #opponentControls {
      background-color: #ffcdd2;
      border-color: #e53935;
    }
    #pokemonSelection {
      background-color: #e3f2fd;
      border-color: #2196f3;
    }
    #typeChart {
      background-color: #ffe0b2;
      border-color: #ff9800;
    }
    .pokemon-button {
      width: calc(50% - 5px);
      margin-right: 5px;
      margin-bottom: 5px;
    }
    @media (min-width: 768px) {
      .pokemon-button {
        width: calc(33.33% - 5px);
      }
    }
  </style>
</head>
<body>
  <h1>Pokemon Battle Simulator</h1>
  <div id="battleLog"></div>
  <div id="playerControls" style="display: none;">
    <h2>Your Pokemon: <span id="playerPokemonName"></span></h2>
    <p>HP: <span id="playerPokemonHP"></span></p>
    <p>Attack: <span id="playerPokemonAttack"></span></p>
    <button onclick="move(0)">Move 1</button>
    <button onclick="move(1)">Move 2</button>
    <button onclick="move(2)">Move 3</button>
    <button onclick="move(3)">Move 4</button>
  </div>
  <div id="opponentControls" style="display: none;">
    <h2>Opponent: <span id="opponentName"></span></h2>
    <h3>Their Pokemon: <span id="opponentPokemonName"></span></h3>
    <p>HP: <span id="opponentPokemonHP"></span></p>
  </div>
  <div id="pokemonSelection">
    <h2>Select your Pokemon:</h2>
    <button class="pokemon-button" onclick="selectPokemon('pikachu')">Pikachu</button>
    <button class="pokemon-button" onclick="selectPokemon('bulbasaur')">Bulbasaur</button>
    <button class="pokemon-button" onclick="selectPokemon('charmander')">Charmander</button>
    <button class="pokemon-button" onclick="selectPokemon('squirtle')">Squirtle</button>
    <button class="pokemon-button" onclick="selectPokemon('butterfree')">Butterfree</button>
    <button class="pokemon-button" onclick="selectPokemon('geodude')">Geodude</button>
  </div>
  <div id="typeChart">
    <h2>Type Chart</h2>
    <p>Normal: -</p>
    <p>Fire: Grass 2x, Water 0.5x, Fire 0.5x, Ground 2x</p>
    <p>Water: Fire 2x, Water 0.5x, Grass 0.5x, Rock 2x</p>
    <p>Grass: Water 2x, Fire 0.5x, Grass 0.5x, Ground 2x</p>
    <p>Electric: Water 2x, Grass 0.5x, Electric 0.5x, Ground 0x</p>
    <p>Rock: Fire 2x, Water 2x, Grass 2x, Fighting 0.5x, Ground 0.5x</p>
    <p>Ground: Fire 2x, Water 2x, Grass 0.5x, Rock 2x, Electric 2x</p>
    <p>Bug: Fire 0.5x, Grass 2x, Fighting 0.5x</p>
    <p>Fighting: Rock 2x, Bug 0.5x, Normal 2x</p>
  </div>
  <script>
    // Pokemon class
    class Pokemon {
      constructor(name, type, hp, attack, defense, moves) {
        this.name = name;
        this.type = type;
        this.hp = hp;
        this.maxHp = hp;
        this.attack = attack;
        this.defense = defense;
        this.moves = moves;
        this.originalDefense = defense;
      }

      useMove(move, opponent) {
        const baseDamage = this.attack * move.power;
        const damage = Math.max(baseDamage - opponent.defense, 1);
        const typeEffectiveness = getTypeEffectiveness(move.type, opponent.type);
        const totalDamage = Math.floor(damage * typeEffectiveness);
        opponent.hp = Math.max(opponent.hp - totalDamage, 0);
        log(`${this.name} used ${move.name} and dealt ${totalDamage} damage to ${opponent.name}!`);
      }

      defend() {
        this.defense *= 2;
        log(`${this.name} defended and increased its defense!`);
      }

      resetDefense() {
        this.defense = this.originalDefense;
      }
    }

    // Create Pokemon
    const pikachu = new Pokemon('Pikachu', 'Electric', 100, 50, 20, [
      { name: 'Thunderbolt', type: 'Electric', power: 1.5 },
      { name: 'Quick Attack', type: 'Normal', power: 1.2 },
      { name: 'Iron Tail', type: 'Steel', power: 1.4 },
      { name: 'Electro Ball', type: 'Electric', power: 1.6 }
    ]);
    const bulbasaur = new Pokemon('Bulbasaur', 'Grass', 120, 40, 30, [
      { name: 'Razor Leaf', type: 'Grass', power: 1.3 },
      { name: 'Vine Whip', type: 'Grass', power: 1.1 },
      { name: 'Leech Seed', type: 'Grass', power: 0.8 },
      { name: 'Seed Bomb', type: 'Grass', power: 1.5 }
    ]);
    const charmander = new Pokemon('Charmander', 'Fire', 80, 60, 15, [
      { name: 'Flamethrower', type: 'Fire', power: 1.7 },
      { name: 'Ember', type: 'Fire', power: 1.2 },
      { name: 'Scratch', type: 'Normal', power: 1.1 },
      { name: 'Fire Spin', type: 'Fire', power: 1.4 }
    ]);
    const squirtle = new Pokemon('Squirtle', 'Water', 110, 45, 25, [
      { name: 'Hydro Pump', type: 'Water', power: 1.4 },
      { name: 'Water Gun', type: 'Water', power: 1.1 },
      { name: 'Bubble', type: 'Water', power: 1.2 },
      { name: 'Aqua Tail', type: 'Water', power: 1.6 }
    ]);
    const butterfree = new Pokemon('Butterfree', 'Bug', 90, 55, 15, [
      { name: 'Silver Wind', type: 'Bug', power: 1.6 },
      { name: 'Gust', type: 'Flying', power: 1.1 },
      { name: 'Psybeam', type: 'Psychic', power: 1.3 },
      { name: 'Bug Buzz', type: 'Bug', power: 1.5 }
    ]);
    const geodude = new Pokemon('Geodude', 'Rock', 130, 35, 40, [
      { name: 'Rock Throw', type: 'Rock', power: 1.2 },
      { name: 'Tackle', type: 'Normal', power: 1.1 },
      { name: 'Rock Blast', type: 'Rock', power: 1.4 },
      { name: 'Rollout', type: 'Rock', power: 1.6 }
    ]);

    let playerPokemon;
    let opponentPokemon;
    const opponent = { name: 'Trainer', pokemon: null };

    function getTypeEffectiveness(attackType, defenderType) {
      const typeChart =
